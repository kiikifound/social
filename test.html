<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>开始测试 · 社会问题解释谱系测试</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body data-page="test">

<header class="topbar">
  <div class="wrap topbar-inner">
    <div class="brand">
      <a class="brand-link" href="index.html">
        <div class="brand-icon">🏙️</div>
        <div class="brand-text">
          <div class="brand-title">社会问题解释谱系测试</div>
          <div class="brand-sub">解释路径 × 理论谱系</div>
        </div>
      </a>
    </div>
    <nav class="topnav">
      <a class="navlink" href="test.html">测试</a>
      <a class="navlink" href="result.html">结果</a>
      <a class="navlink" href="encyclopedia.html">百科</a>
      <a class="navlink" href="about.html">说明</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <section class="card">
    <div class="section-head">
      <div>
        <h1 class="h1-tight">开始测试</h1>
        <div class="muted">每题选择 1–7：1 更靠近左侧，7 更靠近右侧（4 为中间）。</div>
      </div>
      <div class="head-actions">
        <button id="btnResume" class="btn" type="button">继续上次</button>
        <button id="btnReset" class="btn danger" type="button">清空重来</button>
      </div>
    </div>

    <div class="progress">
      <div class="progress-bar"><div id="progressFill" class="progress-fill"></div></div>
      <div class="progress-meta">
        <span id="progressText">0 / 24</span>
        <span id="etaText" class="muted">约 6 分钟</span>
      </div>
    </div>

    <div id="questionCard" class="qcard"></div>

    <div class="qnav">
      <button id="btnPrev" class="btn" type="button">上一题</button>
      <button id="btnNext" class="btn primary" type="button">下一题</button>
    </div>

    <div id="extraGate" class="callout" style="display:none; margin-top:14px;">
      <div class="callout-title">需要更精确一点吗？</div>
      <div class="callout-body">
        你的主结果与次结果非常接近。你可以选择做 8 道加测题来进一步区分（约 2 分钟）。
        <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
          <button id="btnDoExtra" class="btn primary" type="button">做加测题</button>
          <button id="btnSkipExtra" class="btn" type="button">跳过，直接生成结果</button>
        </div>
      </div>
    </div>

    <div class="muted small" style="margin-top:10px;">
      作答会保存在本机浏览器（localStorage），刷新页面不会丢失。
    </div>
  </section>
</main>

<div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true">
  <div class="modal">
    <h3 id="modalTitle">术语解释</h3>
    <div id="modalBody" class="modal-body"></div>
    <div class="modal-actions">
      <button id="modalClose" class="btn primary" type="button">知道了</button>
    </div>
  </div>
</div>

<script src="assets/app.js"></script>
</body>
</html>
